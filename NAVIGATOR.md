# üß≠ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞: Llama GUI

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
`main.py` ‚Äî üìå –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–¥–µ–ª—å –∏ GUI.
`model_handler.py` ‚Äî üîß –õ–æ–≥–∏–∫–∞ –º–æ–¥–µ–ª–∏: –∑–∞–≥—Ä—É–∑–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –∏—Å—Ç–æ—Ä–∏—è, —Å–µ—Å—Å–∏–∏.
`gui.py` ‚Äî üé® –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –æ–∫–Ω–æ, –∫–Ω–æ–ø–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.
`config.py` ‚Äî ‚öôÔ∏è –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –ø—É—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.
`__init__.py` ‚Äî üì¶ –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª (–ø–æ–º–µ—á–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–∞–∫ –ø–∞–∫–µ—Ç Python).
`requirements.txt` ‚Äî üì¶ –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (llama-cpp-python –∏ –¥—Ä.).
`session_logs/` ‚Äî üìÅ –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π –∏ –ª–æ–≥–æ–≤.
`error.log` ‚Äî üìÑ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ª–æ–≥–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ config.py).

## üîç –ö–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é
–ï—Å–ª–∏ –≤ –æ—à–∏–±–∫–µ –∏–ª–∏ –ª–æ–≥–µ –µ—Å—Ç—å:

`–ü—É—Ç–∏ ‚Äî DEFAULT_MODEL_DIR, DEFAULT_MODEL, MAX_HISTORY_LENGTH, N_THREADS, N_CTX`
‚Üí –ò—â–∏ –≤ `config.py`.

`–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî LOG_CONFIG: —Ñ–∞–π–ª, —Ä–∞–∑–º–µ—Ä, —Ä–æ—Ç–∞—Ü–∏—è, –∫–æ–¥–∏—Ä–æ–≤–∫–∞`
‚Üí –ò—â–∏ –≤ `config.py`.

`–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Äî DEFAULT_GENERATION_PARAMS: temperature, max_tokens, top_p`
‚Üí –ò—â–∏ –≤ `config.py`.

`—Ç–µ—Å—Ç –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏`
‚Üí –ò—â–∏ –≤ `config.py`.

`GUI ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ: –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏, –≤–≤–æ–¥, –∏—Å—Ç–æ—Ä–∏—è, –∫–Ω–æ–ø–∫–∏ (–≤—ã–±—Ä–∞—Ç—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –æ—á–∏—Å—Ç–∏—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–Ω–æ–ø–∫–∞ ‚Äî –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ ‚Üí browse_model`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–Ω–æ–ø–∫–∞ ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí open_settings`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–Ω–æ–ø–∫–∞ ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ ‚Üí clear_history`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–Ω–æ–ø–∫–∞ ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é ‚Üí save_session`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–Ω–æ–ø–∫–∞ ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí send_message`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ ‚Üí —á–µ—Ä–µ–∑ filedialog, –ø—É—Ç—å –∏–∑ DEFAULT_MODEL_DIR`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí send_message, –≤—ã–∑—ã–≤–∞–µ—Ç generate_response`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é ‚Üí add_message_to_history`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ ‚Üí clear_history, –≤—ã–∑—ã–≤–∞–µ—Ç model_handler.clear_history()`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ ‚Üí save_session, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç filedialog –∏ model_handler.save_session()`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Üí open_settings, —Å–æ–∑–¥–∞—ë—Ç SettingsWindow`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Üí apply_settings, –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ model_handler`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–û–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Üí SettingsWindow: temperature, max_tokens, top_p`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí on_apply, –≤—ã–∑—ã–≤–∞–µ—Ç callback`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ü—Ä–∏–º–µ–Ω–∏—Ç—å' ‚Üí on_apply, —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤—ã–∑—ã–≤–∞–µ—Ç callback`
‚Üí –ò—â–∏ –≤ `gui.py`.

`–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Äî –∏–º–ø–æ—Ä—Ç –ø—É—Ç–µ–π, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑ config.py`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`ModelHandler ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å: –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –∏—Å—Ç–æ—Ä–∏—è, —Å–µ—Å—Å–∏–∏`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ ‚Äî –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ModelHandler`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ ‚Üí load_model, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—É—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Llama –∏–∑ llama_cpp`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é ‚Üí add_to_history, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ MAX_HISTORY_LENGTH`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ ‚Üí generate_response, –≤ –ø–æ—Ç–æ–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç create_chat_completion`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ ‚Üí clear_history, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ GUI`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ ‚Üí save_session, JSON, –≤ –ø–∞–ø–∫—É session_logs`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Å—Å–∏–∏ ‚Üí load_session, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª—å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∏—Å—Ç–æ—Ä–∏—é`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí update_parameters, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ GUI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫`
‚Üí –ò—â–∏ –≤ `model_handler.py`.

`–ò–º–ø–æ—Ä—Ç—ã ‚Äî config (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ), model_handler, gui`
‚Üí –ò—â–∏ –≤ `main.py`.

`–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí setup_logging, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RotatingFileHandler –∏ console`
‚Üí –ò—â–∏ –≤ `main.py`.

`–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî main(), —Å–æ–∑–¥–∞—ë—Ç –ª–æ–≥–≥–µ—Ä, model_handler –∏ GUI, –∑–∞–ø—É—Å–∫–∞–µ—Ç mainloop`
‚Üí –ò—â–∏ –≤ `main.py`.

`–°–æ–∑–¥–∞–Ω–∏–µ ModelHandler ‚Üí –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ GUI`
‚Üí –ò—â–∏ –≤ `main.py`.

`–°–æ–∑–¥–∞–Ω–∏–µ GUI ‚Üí LlamaGUI(root, model_handler, logger)`
‚Üí –ò—â–∏ –≤ `main.py`.

`–ó–∞–ø—É—Å–∫ GUI ‚Äî root.mainloop()`
‚Üí –ò—â–∏ –≤ `main.py`.

`–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî python main.py`
‚Üí –ò—â–∏ –≤ `main.py`.